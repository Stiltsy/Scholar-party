<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>BlackMarket ‚Äî Listings</title>
<style>
*{box-sizing:border-box}
:root{--bg:#0b0f12;--panel:#0f1417;--accent:#00e6a8;--muted:#8b9498;--danger:#ff6b6b;--glass:rgba(255,255,255,0.02);font-family:Inter,system-ui}
body{margin:0;background:var(--bg);color:#c9d1d9;padding:32px}
.container{max-width:980px;margin:0 auto}
header{display:flex;align-items:baseline;gap:16px}
h1{margin:0;font-size:28px;letter-spacing:1px}
.tag{color:var(--muted);margin-top:6px;font-size:13px}
main{display:flex;gap:20px;margin-top:22px}
.listing{flex:1}
.card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:20px;border-radius:8px;border:1px solid rgba(255,255,255,0.03)}
.buy{background:transparent;border:1px solid var(--accent);color:var(--accent);padding:10px 14px;border-radius:6px;cursor:pointer;font-weight:600}
.buy:hover{background:rgba(0,230,168,0.06)}
.fake-info{width:340px}
.console{background:#071014;padding:12px;border-radius:6px;color:#7fdab1;font-size:13px;border:1px solid rgba(255,255,255,0.02)}
footer{text-align:center;color:var(--muted);margin-top:30px}
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(4px);z-index:40;opacity:1;transition:opacity 0.5s ease-in-out;}
.modal.hidden{display:none}
.modal.fade-out{opacity:0}
.modal-panel{width:720px;max-width:95%;background:linear-gradient(180deg,var(--panel),rgba(10,12,14,0.98));padding:22px;border-radius:10px;border:1px solid rgba(255,255,255,0.04)}
.challenge{min-height:220px;padding:8px;margin-top:8px}
.step{background:var(--glass);padding:14px;border-radius:8px;margin-bottom:12px}
.primary{background:var(--accent);border:none;color:#052017;padding:10px 14px;border-radius:8px;cursor:pointer}
.failure{color:var(--danger)}
.success{color:#b5f6d9;font-weight:700}
.grid{display:flex;gap:8px;flex-wrap:wrap}
.grid .tile{padding:14px;border-radius:8px;border:1px dashed rgba(255,255,255,0.03);min-width:90px;text-align:center;cursor:pointer;user-select:none}
.timer{font-size:16px;font-weight:700;margin-bottom:12px;color:var(--accent)}
</style>
</head>
<body>

<audio id="honeypotAudio" src="your_audio.mp3" preload="auto" loop></audio>

<div class="container">
  <header>
    <h1>BlackMarket</h1>
    <p class="tag">underground marketplace ‚Äî access restricted</p>
  </header>

  <main>
    <section class="listing">
      <div class="card">
        <h2>Exclusive Access</h2>
        <p class="desc">One-time access token ‚Äî limited supply. Click Buy to request.</p>
        <button id="buyBtn" class="buy">Buy</button>
      </div>
    </section>

    <section class="fake-info">
      <pre class="console">
$ last 5 logins
- 2025-09-01 03:11:22 from 10.***.***.12
- 2025-09-02 20:02:09 from 191.***.***.45
- 2025-09-04 10:14:03 from 82.***.***.3
      </pre>
    </section>
  </main>

  <footer>
    <small>BlackMarket ‚Ä¢ Not responsible for buyer behavior ‚Ä¢ Demo only</small>
  </footer>
</div>

<div id="honeypot" class="modal hidden">
  <div class="modal-panel">
    <h2>Suspicious activity detected</h2>
    <p class="lead">Complete the challenges to escape the honeypot.</p>
    <div id="timerDisplay" class="timer"></div>
    <div id="challengeArea" class="challenge"></div>
    <button id="closeBtn" class="buy">Close</button>
  </div>
</div>

<script>
(()=>{
const buyBtn=document.getElementById('buyBtn');
const honeypot=document.getElementById('honeypot');
const challengeArea=document.getElementById('challengeArea');
const closeBtn=document.getElementById('closeBtn');
const timerDisplay=document.getElementById('timerDisplay');
const audio=document.getElementById('honeypotAudio');

const pool=[
  renderCheckboxChallenge,
  renderMathChallenge,
  renderImageChallenge,
  renderTypingChallenge,
  renderOddOneOut,
  renderSliderChallenge,
  renderCodeChallenge
];

let sequence=[], stage=0, attempts=0, maxAttempts=6;
let timer=0, timerInt=null;

buyBtn.onclick=()=>{
  honeypot.classList.remove('hidden');
  audio.play().catch(e=>console.log("Audio play blocked:",e));
  resetGame();
};

function fadeOutModal(callback){
  honeypot.classList.add('fade-out');
  setTimeout(() => {
    honeypot.classList.add('hidden');
    honeypot.classList.remove('fade-out');
    if(callback) callback();
  },500);
}

closeBtn.onclick=()=>{
  stopTimer();
  fadeOutModal(()=>{
    audio.pause();
    audio.currentTime=0;
  });
}

function resetGame(){
  stage=0; attempts=0;
  sequence=shuffle(pool).slice(0,5);
  startTimer(120);
  renderStage();
}

function renderStage(){
  challengeArea.innerHTML='';
  if(attempts>=maxAttempts){
    stopTimer();
    challengeArea.innerHTML=`<p class="failure">Too many failed attempts.</p>`;
    return;
  }
  if(stage>=sequence.length){
    stopTimer();
    fadeOutModal(()=>{
      // Redirect to your inspiration page
      window.location.href="inspiration.html";
    });
    return;
  }
  sequence[stage](challengeArea);
}

function fail(msg){
  attempts++;
  const node=document.createElement('div');
  node.className='step failure';
  node.textContent=`${msg} (Attempts ${attempts}/${maxAttempts})`;
  challengeArea.prepend(node);
  setTimeout(renderStage,800);
}

function startTimer(seconds){
  timer=seconds;
  updateTimerDisplay();
  timerInt=setInterval(()=>{
    timer--;
    updateTimerDisplay();
    if(timer<=0){
      clearInterval(timerInt);
      challengeArea.innerHTML=`<p class="failure">Time‚Äôs up! You failed to escape.</p>`;
    }
  },1000);
}

function stopTimer(){clearInterval(timerInt);}
function updateTimerDisplay(){let m=Math.floor(timer/60), s=timer%60; timerDisplay.textContent=`‚è≥ ${m}:${s.toString().padStart(2,'0')}`;}

// --- Challenges ---
function renderCheckboxChallenge(c){
  c.innerHTML=`<h3>Checkbox</h3><p>Click the moving box.</p>`;
  const btn=document.createElement('button');
  btn.className='primary'; btn.textContent='‚òë I am not a robot';
  btn.style.position='relative'; c.appendChild(btn);
  let moves=0;
  const int=setInterval(()=>{btn.style.left=(Math.random()*200)+"px";btn.style.top=(Math.random()*30)+"px";moves++;if(moves>6)clearInterval(int)},700);
  btn.onclick=()=>{clearInterval(int); if(moves<2) fail("Clicked too early"); else {stage++;renderStage();}};
}

function renderMathChallenge(c){
  const a=Math.floor(Math.random()*9)+2, b=Math.floor(Math.random()*9)+2;
  const ans=a+b;
  c.innerHTML=`<h3>Math</h3><p>${a}+${b}=?</p>`;
  const inp=document.createElement('input'); const btn=document.createElement('button');
  btn.className='primary'; btn.textContent='Submit'; c.append(inp,btn);
  btn.onclick=()=>{if(Number(inp.value)===ans){stage++;renderStage();}else fail("Wrong math");};
}

function renderImageChallenge(c){
  c.innerHTML=`<h3>Find Cats</h3>`;
  const emojis=['üê±','üê∂','ü¶ä','üê±','üêª','üêµ'].sort(()=>Math.random()-0.5);
  const grid=document.createElement('div'); grid.className='grid'; c.appendChild(grid);
  emojis.forEach(e=>{let t=document.createElement('div');t.className='tile';t.textContent=e;t.onclick=()=>t.classList.toggle('selected');grid.appendChild(t);});
  const btn=document.createElement('button'); btn.className='primary'; btn.textContent='Submit'; c.append(btn);
  btn.onclick=()=>{let sel=[...grid.querySelectorAll('.selected')].map(t=>t.textContent); let cats=emojis.filter(e=>e==='üê±').length; if(sel.length===cats && sel.every(e=>'üê±')){stage++;renderStage();}else fail("Wrong tiles");};
}

function renderTypingChallenge(c){
  const str=Math.random().toString(36).slice(2,8);
  c.innerHTML=`<h3>Typing</h3><p>Type: <b>${str}</b></p>`;
  const inp=document.createElement('input'); const btn=document.createElement('button');
  btn.className='primary'; btn.textContent='Submit'; c.append(inp,btn);
  btn.onclick=()=>{if(inp.value===str){stage++;renderStage();}else fail("Mismatch");};
}

function renderOddOneOut(c){
  c.innerHTML=`<h3>Odd One Out</h3>`;
  const set=['üçé','üçé','üçé','üçå'].sort(()=>Math.random()-0.5);
  const grid=document.createElement('div'); grid.className='grid'; c.appendChild(grid);
  set.forEach(e=>{let t=document.createElement('div');t.className='tile';t.textContent=e;t.onclick=()=>{if(e==='üçå'){stage++;renderStage();}else fail("Wrong choice");};grid.appendChild(t);});
}

function renderSliderChallenge(c){
  c.innerHTML=`<h3>Slider</h3><p>Match target number</p>`;
  const target=Math.floor(Math.random()*50)+1;
  const inp=document.createElement('input'); inp.type='range'; inp.min=0; inp.max=50; inp.value=0;
  const val=document.createElement('span'); val.textContent=inp.value;
  inp.oninput=()=>val.textContent=inp.value;
  const btn=document.createElement('button'); btn.className='primary'; btn.textContent='Check';
  c.append(`Target:${target} `,inp,val,btn);
  btn.onclick=()=>{if(Number(inp.value)===target){stage++;renderStage();}else fail("Missed target");};
}

function renderCodeChallenge(c){
  const str=Math.random().toString(36).slice(2,10).toUpperCase();
  c.innerHTML=`<h3>Case-sensitive Code</h3><p>${str}</p>`;
  const inp=document.createElement('input'); const btn=document.createElement('button');
  btn.className='primary'; btn.textContent='Submit'; c.append(inp,btn);
  btn.onclick=()=>{if(inp.value===str){stage++;renderStage();}else fail("Incorrect");};
}

// util
function shuffle(arr){return arr.map(x=>[Math.random(),x]).sort((a,b)=>a[0]-b[0]).map(x=>x[1]);}
})();
</script>
</body>
</html>